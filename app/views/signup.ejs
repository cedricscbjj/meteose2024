<body>
  <div id="body">

     <%- include('partials/header') %>
     
     <div class="container">
        <main>
           <form class="forms" action ="/signUp" method="POST">
              <p class="bienvenue">Bienvenue</p>
              <input type="pseudo" name="pseudo" placeholder="Pseudo" class="input" required/><br />
              <input type="email" name="email" placeholder="Email" class="input" required/><br />
              <input type="password" name="password" placeholder="Password" class="input" required/><br />
              <button type="submit" value="Connexion" class="connect"> Créer un compte</button><br /> 
              <a href="/login">Vous possedez déja un compte ? Connectez-vous</a>
              <!--<a href="#" id="forgot">Mot de passe oublié</a-->
           </form>
        </main>
     </div>
     
     <%- include('partials/footer') %>

</div>



 <script>
   document.getElementById('submitBtn').addEventListener('click', submitForm);

async function submitForm() {
  const form = document.getElementById('signupForm');
  const formData = {
    pseudo: form.querySelector('[name="pseudo"]').value,
    email: form.querySelector('[name="email"]').value,
    password: form.querySelector('[name="password"]').value,
  };

  try {
    const response = await fetch('/signup', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(formData),
    });

    if (response.ok) {
      console.log('User information successfully submitted' );
      document.querySelector(".bienvenue").innerHTML = " Compte crée avec succes !";


    } else {
      console.error('Failed to submit user information');

    }
  } catch (error) {
    console.error('An error occurred:', error);
    // Gérer l'erreur ici
  }
}
 </script>










</body>
